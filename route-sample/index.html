<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="auto-sort/auto-sort.css" />
    </head>
    <body>
        
        <route-display></route-display>
        
        <route-link data-route="test/test" data-title="Custom Page 1">testing</route-link>
        <route-link data-route="?page=1" data-title="Custom Page 2">testing1</route-link>
        <route-link data-route="test/s2" data-title="Custom Page 3">testing2</route-link>
        
        <script type="module" src="index.js"></script>
        
        <script type="module" defer>
            
            import routerService from './router.service.js';
            
            
            const headers = [
                { id: 'deliveryId', label: 'Delivery ID' },
                { id: 'date', label: 'Date' },                
                { id: 'carrier', label: 'Carrier' },
                { id: 'status', label: 'Status' },
                { id: 'eta', label: 'ETA' },
                { id: 'temp', label: 'Temp Conditions' },
                { id: 'pallets', label: 'Pallets' },
                { id: 'site', label: 'Site' },
            ]
            
            const taskData = [
                {
                  id: 1,
                  deliveryId: 1,
                  date: '10/10/2018',
                  carrier: 'UPS',
                  status: 'On Time',
                  eta: '90 hours',
                  temp: '60째',
                  pallets: 10,
                  site: 'London',
                  requiredPosition: 1
                },
                {
                  id: 2,
                  deliveryId: 2,
                  date: '10/10/2018',
                  carrier: 'UPS',
                  status: 'On Time',
                  eta: '90 hours',
                  temp: '60째',
                  pallets: 10,
                  site: 'Moscow',
                  requiredPosition: 0
                },
                {
                  id: 3,
                  deliveryId: 3,
                  date: '10/10/2018',
                  carrier: 'UPS',
                  status: 'On Time',
                  eta: '90 hours',
                  temp: '60째',
                  pallets: 10,
                  site: 'Madrid',
                  requiredPosition: 3
                },
                {
                  id: 4,
                  deliveryId: 4,
                  date: '10/10/2018',
                  carrier: 'UPS',
                  status: 'On Time',
                  eta: '90 hours',
                  temp: '60째',
                  pallets: 10,
                  site: 'Canberra',
                  requiredPosition: 4
                }
              ];
            
            const one = (req, next) => {
                console.log('one', req, req.search.get('page'))
                req.test = 'cool'
                next()
            }
            
            const two = (req, next) => {
                console.log('two', req, req.search.get('page'))
                req.works = 'wow'
                req.load('test')
                next()
            }
            
            const three = (req, next) => {
                console.log('three', req, req.search.get('page'))
                next()
            }
            
            const four = (req, next) => {
                console.log('four', req, req.search.get('page'))
                req.load('test2')
                next()
            }
            
            
            const five = (req, next) => {
                document.querySelector('auto-sort').dataset.headers = JSON.stringify(headers)
                document.querySelector('auto-sort').dataset.items = JSON.stringify(taskData)
               
                next()
            }
            
            routerService
              .setPath('test/test', one, two, three)
              .setPath('?page=1', three, one, four, five )
            
               
           document.addEventListener('DOMContentLoaded', ()=>{                
                 
            })
                     
            setTimeout(() => {
              
            },1000)
            

            </script>
        
    </body>
</html>
