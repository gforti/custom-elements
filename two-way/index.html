<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div>TODO write content</div>
        
        <todo-list data-userid="hi"></todo-list>
        
        <todo-item>
            <span>This is a slot</span>
            <p> Pretty much everything inside</p>
        </todo-item>
    
        <script src="todo-list.element.js"></script>
        <script src="todo-item.element.js"></script>
        <script src="fetch.js"></script>
        <script src="todo.service.js"></script>
        <script> 
            
            (async () => { 
                const undefinedElements = document.querySelectorAll(':not(:defined)');

                const promises = [...undefinedElements].map(
                  button => customElements.whenDefined(button.localName)
                );

                // Wait for all the children to be upgraded, 
                // then remove the placeholder.
                await Promise.all(promises);
                            
                
                
                const todoService = new TodoService()
                await todoService.fetchTodos()
                console.log(todoService.getTodos())
                console.log('ready!');
                let todo = document.querySelector('todo-list')
                todo.listRender(todoService.getTodos())
               
                })()
              
            </script>
        
        
    </body>
</html>
